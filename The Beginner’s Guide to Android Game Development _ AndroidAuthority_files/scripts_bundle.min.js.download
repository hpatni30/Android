(function(a){a.fn.unveil=function(i,k){var f=a(window),b=i||0,d=window.devicePixelRatio>1,g=d?"data-src-retina":"data-src",j=this,h;this.one("unveil",function(){var l=this.getAttribute(g);l=l||this.getAttribute("data-src");if(l){this.setAttribute("src",l);if(typeof k==="function"){k.call(this)}}});function c(){var l=j.filter(function(){var n=a(this),m=f.scrollTop(),p=m+f.height(),q=n.offset().top,o=q+n.height();return o>=m-b&&q<=p+b});h=l.trigger("unveil");j=j.not(h)}f.scroll(c);f.resize(c);c();return this}})(window.jQuery||window.Zepto);(function(a){a.fn.touchwipe=function(c){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};if(c){a.extend(b,c)}this.each(function(){var f;var d;var j=false;function i(){this.removeEventListener("touchmove",g);f=null;j=false}function g(n){if(b.preventDefaultEvents){n.preventDefault()}if(j){var k=n.touches[0].pageX;var o=n.touches[0].pageY;var m=f-k;var l=d-o;if(Math.abs(m)>=b.min_move_x){i();if(m>0){b.wipeLeft()}else{b.wipeRight()}}else{if(Math.abs(l)>=b.min_move_y){i();if(l>0){b.wipeDown()}else{b.wipeUp()}}}}}function h(k){if(k.touches.length==1){f=k.touches[0].pageX;d=k.touches[0].pageY;j=true;this.addEventListener("touchmove",g,false)}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",h,false)}});return this}})(jQuery);(function(c){var b=c.scrollTo=function(f,d,g){c(window).scrollTo(f,d,g)};b.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1,limit:true};b.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var f=this,g=!f.nodeName||c.inArray(f.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!g){return f}var d=(f.contentWindow||f).document||f.ownerDocument||f;return/webkit/i.test(navigator.userAgent)||d.compatMode=="BackCompat"?d.body:d.documentElement})};c.fn.scrollTo=function(i,h,d){if(typeof h=="object"){d=h;h=0}if(typeof d=="function"){d={onAfter:d}}if(i=="max"){i=9000000000}d=c.extend({},b.defaults,d);h=h||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){h/=2}d.offset=a(d.offset);d.over=a(d.over);return this._scrollable().each(function(){if(i==null){return}var n=this,k=c(n),l=i,j,f={},m=k.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(l)){l=a(l);break}l=c(l,this);if(!l.length){return}case"object":if(l.is||l.style){j=(l=c(l)).offset()}}c.each(d.axis.split(""),function(t,r){var p=r=="x"?"Left":"Top",v=p.toLowerCase(),s="scroll"+p,q=n[s],o=b.max(n,r);if(j){f[s]=j[v]+(m?0:q-k.offset()[v]);if(d.margin){f[s]-=parseInt(l.css("margin"+p))||0;f[s]-=parseInt(l.css("border"+p+"Width"))||0}f[s]+=d.offset[v]||0;if(d.over[v]){f[s]+=l[r=="x"?"width":"height"]()*d.over[v]}}else{var u=l[v];f[s]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*o:u}if(d.limit&&/^\d+$/.test(f[s])){f[s]=f[s]<=0?0:Math.min(f[s],o)}if(!t&&d.queue){if(q!=f[s]){g(d.onAfterFirst)}delete f[s]}});g(d.onAfter);function g(o){k.animate(f,h,d.easing,o&&function(){o.call(this,l,d)})}}).end()};b.max=function(i,h){var l=h=="x"?"Width":"Height",g="scroll"+l;if(!c(i).is("html,body")){return i[g]-c(i)[l.toLowerCase()]()}var k="client"+l,j=i.ownerDocument.documentElement,f=i.ownerDocument.body;return Math.max(j[g],f[g])-Math.min(j[k],f[k])};function a(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);
/*!
* Fancyform - jQuery Plugin
* Simple and fancy form styling alternative
*
* Examples and documentation at: https://github.com/Lutrasoft/Fancyform
*
* Copyright (c) 2010-2013 - Lutrasoft
*
* Version: 1.4.2
* Requires: jQuery v1.6.1+
*
* Dual licensed under the MIT and GPL licenses:
*   https://www.opensource.org/licenses/mit-license.php
*   https://www.gnu.org/licenses/gpl.html
*/
(function(g){g.simpleEllipsis=function(b,a){return b.length<a?b:b.substring(0,a)+"..."};var d=!!("ontouchstart" in window),f=function(){var a=g(this),b=a.data("options")||a.data("settings"),c;for(c in b){a.parent().removeClass(c)}};g.fn.extend({caret:function(a,o){var l=this[0],b=this.val(),m,n,c;if(l){if(typeof a=="undefined"){if(l.selectionStart){a=l.selectionStart;o=l.selectionEnd}else{if(document.selection){this.focus();m=document.selection.createRange();if(m==null){return{start:0,end:e.value.length,length:0}}n=l.createTextRange();c=n.duplicate();n.moveToBookmark(m.getBookmark());c.setEndPoint("EndToStart",n);return{start:c.text.length-(c.text.split("\n").length+1)+2,end:c.text.length+m.text.length-(c.text.split("\n").length+1)+2,length:m.text.length,text:m.text}}}}else{if(typeof o!="number"){o=-1}if(typeof a!="number"||a<0){a=0}if(o>b.length){o=b.length}o=Math.max(a,o);a=Math.min(a,o);l.focus();if(l.selectionStart){l.selectionStart=a;l.selectionEnd=o}else{if(document.selection){m=l.createTextRange();m.collapse(true);m.moveStart("character",a);m.moveEnd("character",o-a);m.select()}}}return{start:a,end:o}}},transformCheckbox:function(c){var b={base:"image",checked:"",unchecked:"",disabledChecked:"",disabledUnchecked:"",tristateHalfChecked:"",changeHandler:function(h){},trigger:"self",tristate:0},i=g.extend(b,c),a={setImage:function(){var m=g(this),l=m.data("settings"),h;if(m.is(":disabled")){h=m.is(":checked")?"disabledChecked":"disabledUnchecked"}else{if(m.hasClass("half-checked")){h="tristateHalfChecked"}else{if(m.is(":checked")){h="checked"}else{h="unchecked"}}}if(l.base=="image"){m.next().attr("src",l[h])}else{f.call(this);m.parent().addClass(h)}},setProp:function(h,l,m){g(h).prop(l,m).change();a.setImage.call(h);if(l=="checked"&&!g(h).data("settings").type){g("[name='"+g(h).attr("name")+"']").each(function(){a.setImage.call(this)})}},uncheck:function(){a.setProp(this,"checked",0)},check:function(){a.setProp(this,"checked",1)},disable:function(){a.setProp(this,"disabled",1)},enable:function(){a.setProp(this,"disabled",0)},imageClick:function(){var h=g(this),k=h.data("settings");if(!h.is(":disabled")){if(h.is(":checked")&&k.type){a.uncheck.call(h);i.changeHandler.call(h,1)}else{a.check.call(h);i.changeHandler.call(h,0)}a.handleTriState.call(h)}},handleTriState:function(){var p=g(this),h=p.data("settings"),q=p.parent(),n=q.find("ul"),o=q.closest("li");if(h.tristate){if(p.hasClass("half-checked")||p.is(":checked")){p.removeClass("half-checked");a.check.call(p);n.find("input:checkbox").removeClass("half-checked").each(a.check)}else{if(p.not(":checked")){p.removeClass("half-checked");n.find("input:checkbox").each(a.uncheck)}}n.find("input:checkbox").each(a.setImage);if(p.parent().parent().parent().is("li")){a.handleTriStateLevel.call(p.parent().parent().parent())}p.trigger("transformCheckbox.tristate")}},handleTriStateLevel:function(h){var s=g(this),q=s.find("input:checkbox").first(),p=s.find("ul"),r=p.find("input:checkbox"),o=r.filter(":checked");if(h!==false||r.length){q.removeClass("half-checked");if(r.length==o.length){a.check.call(q)}else{if(o.length){q.addClass("half-checked")}else{a.uncheck.call(q)}}a.setImage.call(q);if(h!==false&&s.parent().parent().is("li")){a.handleTriStateLevel.call(s.parent().parent())}}}};return this.each(function(){if(typeof c=="string"){a[c].call(this)}else{var h=g(this);if(!h.data("tf.init")){h.data("tf.init",1).data("settings",i);i.type=h.is("[type=checkbox]");h.hide();if(i.base=="image"){h.after("<img />")}else{h.wrap("<span class='trans-element-"+(i.type?"checkbox":"radio")+"' />")}a.setImage.call(this);if(c.tristate){a.handleTriStateLevel.call(h.parent(),false)}if(i.base=="image"){switch(i.trigger){case"parent":h.parent().click(g.proxy(a.imageClick,this));break;case"self":h.next("img").click(g.proxy(a.imageClick,this));break}}else{switch(i.trigger){case"parent":h.parent().parent().click(g.proxy(a.imageClick,this));break;case"self":h.parent().click(g.proxy(a.imageClick,this));break}}}}})},transformSelect:function(c){var b={dropDownClass:"transformSelect",showFirstItemInDrop:1,acceptManualInput:0,useManualInputAsFilter:0,subTemplate:function(h){if(g(this)[0].type=="select-multiple"){return"<span><input type='checkbox' value='"+g(h).val()+"' "+(g(h).is(":selected")?"checked='checked'":"")+" name='"+g(this).attr("name").replace("_backup","")+"' />"+g(h).text()+"</span>"}else{return"<span>"+g(h).text()+"</span>"}},initValue:function(){return g(this).text()},valueTemplate:function(){return g(this).text()},ellipsisLength:null,addDropdownToBody:0};var i=g(this).data("settings"),a={init:function(){var u=this,h=g(u),x=0,w=h.find("option:first");h.hide();if(h.find("option:selected").length&&u.type!="select-multiple"){w=h.find("option:selected");x=h.find("option").index(w)}var s="<ul class='"+i.dropDownClass+" trans-element'><li>";if(i.acceptManualInput&&!d){var r=h.data("value")||i.initValue.call(w);s+="<ins></ins><input type='text' name='"+h.attr("name").replace("_backup","")+"' value='"+r+"' />";if(h.attr("name").indexOf("_backup")<0){h.attr("name",h.attr("name")+"_backup")}}else{if(i.ellipsisLength){s+='<span title="'+w.text()+'">'+g.simpleEllipsis(i.initValue.call(w),i.ellipsisLength)+"</span>"}else{s+="<span>"+i.initValue.call(w)+"</span>"}}s+="<ul style='display: none;'>";h.children().each(function(j){if(!j&&!i.showFirstItemInDrop){}else{s+=a[this.tagName=="OPTION"?"getLIOptionChild":"getLIOptgroupChildren"].call(u,this)}});s+="</ul></li></ul>";var v=g(s),t=v.find("ul li:not(.group)"),y=v.find("input");h.after(v);if(h.is(":disabled")){a.disabled.call(u,1)}if(u.type=="select-multiple"&&!d){if(h.attr("name")&&h.attr("name").indexOf("_backup")==-1){h.attr("name",h.attr("name")+"_backup")}t.click(a.selectCheckbox)}else{t.click(a.selectNewValue);y.click(a.openDrop).keydown(function(j){if(g.inArray(j.which,[9,13])>=0){a.closeAllDropdowns()}}).prev("ins").click(a.openDrop)}if(i.useManualInputAsFilter){y.keyup(a.filterByInput)}v.find("span:first").click(a.openDrop);v.find("ul:first").data("trans-element",v).addClass("transformSelectDropdown");v.data("trans-element-drop",v.find("ul:first"));if(i.addDropdownToBody){v.find("ul:first").appendTo("body")}g("html").unbind("click.transformSelect").bind("click.transformSelect",a.closeDropDowns);if(g.hotkeys&&!g("body").data("trans-element-select")){g("body").data("trans-element-select",1);g(document).bind("keydown","up",function(j){var k=g(".trans-focused"),l,m;if(!k.length||k.find("input").length){return 0}l=k.prevAll("select").first();m=l[0].selectedIndex-1;if(m<0){m=l.find("option").length-1}a.selectIndex.call(l,m);return 0}).bind("keydown","down",function(j){var k=g(".trans-focused"),l,m;if(!k.length||k.find("input").length){return 0}l=k.prevAll("select").first();m=l[0].selectedIndex+1;if(m>l.find("option").length-1){m=0}a.selectIndex.call(l,m);return 0})}if(d){if(!i.showFirstItemInDrop){h.find("option:first").remove()}h.appendTo(v.find("li:first")).show().css({opacity:0,position:"absolute",width:"100%",height:"100%",left:0,top:0});v.find("li:first").css({position:"relative"});h.change(a.mobileChange)}},getUL:function(){return d?g(this).closest("ul"):g(this).next(".trans-element:first")},getSelect:function(h){return d?h.find("select"):h.prevAll("select:first")},disabled:function(h){a.getUL.call(this)[h?"addClass":"removeClass"]("disabled")},repaint:function(){var h=a.getUL.call(this);h.data("trans-element-drop").remove();h.remove();a.init.call(this)},filterByInput:function(){var h=g(this),n=h.val().toLowerCase(),o=h.closest("ul"),p=o.data("trans-element-drop"),q=p.find("li");if(!n){q.show()}else{q.each(function(){var j=g(this);if(!!j.data("settings").alwaysvisible){j.show()}else{j[j.text().toLowerCase().indexOf(n)<0?"hide":"show"]()}})}},selectIndex:function(o){var q=g(this),n=a.getUL.call(this),p=n.data("trans-element-drop");try{p.find("li").filter(function(){}).first().trigger("click");return g(this).text()==q.find("option").eq(o).text()}catch(h){}},selectValue:function(h){var o=g(this),m=a.getUL.call(this),n=m.data("trans-element-drop");a.selectIndex.call(this,o.find(h?"option[value='"+h+"']":"option:not([value])").index())},getLIOptionChild:function(h){var l=g(h).attr("data-settings")||"",m=(g(h).attr("class")||"")+(g(h).is(":selected")?" selected":"");return"<li data-settings='"+l+"' class='"+m+"'>"+i.subTemplate.call(this,g(h))+"</li>"},getLIOptgroupChildren:function(l){var h=this,m="<li class='group'><span>"+g(l).attr("label")+"</span><ul>";g(l).find("option").each(function(){m+=a.getLIOptionChild.call(h,this)});m+="</ul></li>";return m},getLIIndex:function(n){var o=0,h=n.closest(".group"),m;if(h.length){o=n.closest(".transformSelectDropdown").find("li").index(n)-h.prevAll(".group").length-1}else{o=n.parent().find("li").index(n)-n.prevAll(".group").length}if(!i.showFirstItemInDrop){o+=1}return o},selectNewValue:function(){var h=g(this),n=h.closest(".transformSelectDropdown"),o=n.data("trans-element"),q=a.getSelect(o),p=a.getLIIndex(h);q[0].selectedIndex=p;if(o.find("input").length){o.find("input").val(i.valueTemplate.call(h))}else{sel=q.find("option:selected");o.find("span:first").html(i.ellipsisLength?g.simpleEllipsis(i.valueTemplate.call(sel),i.ellipsisLength):i.valueTemplate.call(sel))}n.find(".selected").removeClass("selected");h.addClass("selected");a.closeAllDropdowns();q.trigger("change");g(".trans-element").removeClass("trans-focused");o.addClass("trans-focused");if(g.fn.validate&&q.closest("form").length){q.valid()}},mobileChange:function(){var m=g(this),l=a.getUL.call(this),h=m.find("option:selected");if(this.type!="select-multiple"){l.find("span:first").html(i.ellipsisLength?g.simpleEllipsis(i.valueTemplate.call(h),i.ellipsisLength):i.valueTemplate.call(h))}},selectCheckbox:function(t){var v=g(this),y=v.closest(".transformSelectDropdown"),x=y.data("trans-element"),s=a.getSelect(x),h=v.closest("li"),w=h.find(":checkbox"),u,r;if(g(t.target).is("li")){h=v}u=a.getLIIndex(h);if(!g(t.target).is(":checkbox")){w.prop("checked",!w.is(":checked"))}s.find("option").eq(u).prop("selected",w.is(":checked"));if(w.data("tfc.init")){w.transformCheckbox("setImage")}if(!g(t.target).is(":checkbox")){w.change()}s.change()},openDrop:function(){var l=g(this).closest(".trans-element"),m=l.data("trans-element-drop"),h=g(this).parent();if(l.hasClass("disabled")){return 0}if(h.hasClass("open")&&!g(this).is("input")){a.closeAllDropdowns()}else{h.css({"z-index":1200}).addClass("open");m.css({"z-index":1200}).show();a.hideAllOtherDropdowns.call(this)}if(i.addDropdownToBody){m.css({position:"absolute",top:h.offset().top+h.outerHeight(),left:h.offset().left})}},hideAllOtherDropdowns:function(){var h=g("body").find("*"),k=h.index(g(this).parent());g("body").find("ul.trans-element").each(function(){var j=g(this).data("trans-element-drop");if(k-1!=h.index(g(this))){j.hide().css("z-index",0).parent().css("z-index",0).removeClass("open")}})},closeDropDowns:function(h){if(!g(h.target).closest(".trans-element").length){a.closeAllDropdowns()}},closeAllDropdowns:function(){g("ul.trans-element").each(function(){g(this).data("trans-element-drop").hide();g(this).find("li:first").removeClass("open")}).removeClass("trans-focused")}};if(typeof c=="string"){a[c].apply(this,Array.prototype.slice.call(arguments,1));return this}return this.each(function(){var h=g(this);if(!h.data("tfs.init")){i=g.extend(b,c);h.data("settings",i);h.data("tfs.init",1);a.init.call(this)}})},transformFile:function(b){var a={file:function(c,i){return this.each(function(){var q=g(this),r=g("<div></div>").appendTo(q).css({position:"absolute",overflow:"hidden","-moz-opacity":"0",filter:"alpha(opacity: 0)",opacity:"0",zoom:"1",width:q.outerWidth()+"px",height:q.outerHeight()+"px","z-index":1}),v=0,h,s=function(){var j=h=r.html("<input "+(window.FormData?"multiple ":"")+'type="file" style="border:none; position:absolute">').find("input");v=v||j.width();j.change(function(){j.unbind("change");s();c(j[0])})},t=function(j){r.offset(q.offset());if(j){h.offset({left:j.pageX-v+25,top:j.pageY-10});u()}},u=function(){q.addClass(i+"MouseOver")},w=function(){q.removeClass(i+"MouseOver")};s();q.mouseover(t);q.mousemove(t);q.mouseout(w);t()})}};return this.each(function(n){if(!g(this).data("tff.init")){g(this).data("tff.init",1);var i=g(this).hide(),c=null,o=i.attr("name"),q=(!b?"customInput":(b.cssClass?b.cssClass:"customInput")),p=(!b?"Browse...":(b.label?b.label:"Browse..."));if(!i.attr("id")){i.attr("id","custom_input_file_"+(new Date().getTime())+Math.floor(Math.random()*100000))}c=i.attr("id");i.after('<span id="'+c+'_custom_input" class="'+q+'"><span class="inputPath" id="'+c+'_custom_input_path">&nbsp;</span><span class="inputButton">'+p+"</span></span>");a.file.call(g("#"+c+"_custom_input"),function(h){h.id=c;h.name=o;g("#"+c).replaceWith(h).removeAttr("style").hide();g("#"+c+"_custom_input_path").html(g("#"+c).val().replace(/\\/g,"/").replace(/.*\//,""))},q)}})},transformTextarea:function(j,k){var b={hiddenTextareaClass:"hiddenTextarea"},c=g.extend(b,j),a={init:function(){var h=g(this);if(h.css("line-height")=="normal"){h.css("line-height","12px")}var i={"line-height":h.css("line-height"),"font-family":h.css("font-family"),"font-size":h.css("font-size"),border:"1px solid black",width:h.width(),"letter-spacing":h.css("letter-spacing"),"text-indent":h.css("text-indent"),padding:h.css("padding"),overflow:"hidden","white-space":h.css("white-space")};h.css(i).keyup(a.keyup).keydown(a.keyup).bind("mousewheel",a.mousewheel).after(g("<div />")).next().addClass(c.hiddenTextareaClass).css(i).css("width",h.width()-5).hide()},mousewheel:function(i,h){i.preventDefault();var n=g(this).css("line-height"),o=g(this)[0].scrollTop+(parseFloat(n)*(h*-1));a.scrollToPx.call(this,o)},keyup:function(h){if(g.inArray(h.which,[37,38,39,40])>=0){a.checkCaretScroll.call(this)}else{a.checkScroll.call(this,h.which)}a.scrollCallBack.call(this)},checkCaretScroll:function(){var y=g(this),v=y.caret().start,x=y.val(),i=y.scrollTop(),u=parseInt(y.css("line-height")),t=x.substr(0,v),s=x.substr(v),w=y.next("."+c.hiddenTextareaClass),h;if(v){if(x.substr(v-1,1)=="\n"){t=x.substr(0,v+1)}a.toDiv.call(this,0,t,s);if(w.height()>(y.height()+i)){h=i+u}else{if(w.height()<=i){h=i-u}}if(h){a.scrollToPx.call(this,h)}}},checkScroll:function(h){var t=g(this),s=t.next("."+c.hiddenTextareaClass),v=t.caret().start,i=t.val(),w=i.substr(0,v),r=i.substr(v);a.toDiv.call(this,1,w,r);if((t.scrollTop()+t.height())>s.height()){return}if(s.data("old-height")!=s.data("new-height")){var u=s.data("new-height")-s.data("old-height");a.scrollToPx.call(this,t.scrollTop()+u)}},toDiv:function(v,z,x){var B=g(this),y=B.next("."+c.hiddenTextareaClass),A=/\n/g,i=/\s\s/g,C=/\s/g,w=B.val(),h=0,E=0,D="<br />";if(z){w=z}if(A.test(w.substring(w.length-1))){h=1}if(A.test(w.substring(w.length-2,w.length-1))&&C.test(w.substring(w.length-1))){E=1}if(v){y.data("old-height",y.height())}w=w.replace(A,"<br>").replace(i,"&nbsp; ").replace(i,"&nbsp; ").replace(/<br>/ig,D);y.html(w);if((h||E)&&g.trim(x)){if(E&&g.browser.msie){y.append(D)}y.append(D)}if(v){y.data("new-height",y.height())}},scrollToPercentage:function(i){if(i>=0&&i<=100){var q=g(this),p=q.next("."+c.hiddenTextareaClass),h=parseFloat(q[0].scrollHeight)-q.height(),o=h*i/100;a.scrollToPx.call(this,o)}},scrollToPx:function(i){var h=this;g(h).scrollTop(a.roundToLineHeight.call(h,i));a.scrollCallBack.call(h)},roundToLineHeight:function(h){var i=parseInt(g(this).css("line-height"));return Math.ceil(h/i)*i},remove:function(){g(this).unbind("keyup").css({overflow:"auto",border:""}).next("div").remove()},scrollCallBack:function(){var q=this,o=g(q),h=o[0],i=parseFloat(h.scrollHeight)-o.height(),p=parseFloat(h.scrollTop)/i*100;p=p>100?100:p;p=p<0?0:p;p=isNaN(p)?100:p;o.trigger("scrollToPx",[h.scrollTop,p])}};if(typeof j=="string"){a[j].call(this,k);return this}return this.each(function(){if(!g(this).next().hasClass(c.hiddenTextareaClass)){a.init.call(this);a.toDiv.call(this,1)}})}});g.fn.transformRadio=g.fn.transformCheckbox})(jQuery);
/*! device.js 0.1.61 */
(function(){var t,s,r,q,p,o,n,m,l,k;t=window.device,window.device={},r=window.document.documentElement,k=window.navigator.userAgent.toLowerCase(),device.ios=function(){return device.iphone()||device.ipod()||device.ipad()},device.iphone=function(){return q("iphone")},device.ipod=function(){return q("ipod")},device.ipad=function(){return q("ipad")},device.android=function(){return q("android")},device.androidPhone=function(){return device.android()&&q("mobile")},device.androidTablet=function(){return device.android()&&!q("mobile")},device.blackberry=function(){return q("blackberry")||q("bb10")||q("rim")},device.blackberryPhone=function(){return device.blackberry()&&!q("tablet")},device.blackberryTablet=function(){return device.blackberry()&&q("tablet")},device.windows=function(){return q("windows")},device.windowsPhone=function(){return device.windows()&&q("phone")},device.windowsTablet=function(){return device.windows()&&q("touch")&&!device.windowsPhone()},device.fxos=function(){return(q("(mobile;")||q("(tablet;"))&&q("; rv:")},device.fxosPhone=function(){return device.fxos()&&q("mobile")},device.fxosTablet=function(){return device.fxos()&&q("tablet")},device.meego=function(){return q("meego")},device.cordova=function(){return window.cordova&&"file:"===location.protocol},device.nodeWebkit=function(){return"object"==typeof window.process},device.mobile=function(){return device.androidPhone()||device.iphone()||device.ipod()||device.windowsPhone()||device.blackberryPhone()||device.fxosPhone()||device.meego()},device.tablet=function(){return device.ipad()||device.androidTablet()||device.blackberryTablet()||device.windowsTablet()||device.fxosTablet()},device.desktop=function(){return !device.tablet()&&!device.mobile()},device.portrait=function(){return window.innerHeight/window.innerWidth>1},device.landscape=function(){return window.innerHeight/window.innerWidth<1},device.noConflict=function(){return window.device=t,this},q=function(b){return -1!==k.indexOf(b)},o=function(d){var c;return c=new RegExp(d,"i"),r.className.match(c)},s=function(b){return o(b)?void 0:r.className+=" "+b},m=function(b){return o(b)?r.className=r.className.replace(b,""):void 0},device.ios()?device.ipad()?s("ios ipad tablet"):device.iphone()?s("ios iphone mobile"):device.ipod()&&s("ios ipod mobile"):s(device.android()?device.androidTablet()?"android tablet":"android mobile":device.blackberry()?device.blackberryTablet()?"blackberry tablet":"blackberry mobile":device.windows()?device.windowsTablet()?"windows tablet":device.windowsPhone()?"windows mobile":"desktop":device.fxos()?device.fxosTablet()?"fxos tablet":"fxos mobile":device.meego()?"meego mobile":device.nodeWebkit()?"node-webkit":"desktop"),device.cordova()&&s("cordova"),p=function(){return device.landscape()?(m("portrait"),s("landscape")):(m("landscape"),s("portrait"))},l="onorientationchange" in window,n=l?"orientationchange":"resize",window.addEventListener?window.addEventListener(n,p,!1):window.attachEvent?window.attachEvent(n,p):window[n]=p,p()}).call(this);!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(d,a)}):"object"==typeof exports?c(d,require("jquery")):c(d,d.jQuery)}("undefined"!=typeof window?window:this,function(H,G){function F(f,d){for(var g=f.length;--g;){if(Math.round(+f[g])!==Math.round(+d[g])){return !1}}return !0}function E(b){var d={range:!0,animate:!0};return"boolean"==typeof b?d.animate=b:G.extend(d,b),d}function D(I,q,p,o,n,m,l,k,b){"array"===G.type(I)?this.elements=[+I[0],+I[2],+I[4],+I[1],+I[3],+I[5],0,0,1]:this.elements=[I,q,p,o,n,m,l||0,k||0,b||1]}function C(f,d,g){this.elements=[f,d,g]}function B(b,l){if(!(this instanceof B)){return new B(b,l)}1!==b.nodeType&&G.error("Panzoom called on non-Element node"),G.contains(A,b)||G.error("Panzoom element must be attached to the document");var k=G.data(b,z);if(k){return k}this.options=l=G.extend({},B.defaults,l),this.elem=b;var i=this.$elem=G(b);this.$set=l.$set&&l.$set.length?l.$set:i,this.$doc=G(b.ownerDocument||A),this.$parent=i.parent(),this.parent=this.$parent[0],this.isSVG=u.test(b.namespaceURI)&&"svg"!==b.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=G.cssProps.transform.replace(v,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var h=G(),g=this;G.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(d,c){g[c]=l[c]||h}),this.enable(),this.scale=this.getMatrix()[0],this._checkPanWhenZoomed(),G.data(b,z,this)}var A=H.document,z="__pz__",y=Array.prototype.slice,x=/trident\/7./i,w=function(){if(x.test(navigator.userAgent)){return !1}var b=A.createElement("input");return b.setAttribute("oninput","return"),"function"==typeof b.oninput}(),v=/([A-Z])/g,u=/^http:[\w\.\/]+svg$/,t="(\\-?\\d[\\d\\.e-]*)",s="\\,?\\s*",r=new RegExp("^matrix\\("+t+s+t+s+t+s+t+s+t+s+t+"\\)$");return D.prototype={x:function(g){var f=g instanceof C,i=this.elements,h=g.elements;return f&&3===h.length?new C(i[0]*h[0]+i[1]*h[1]+i[2]*h[2],i[3]*h[0]+i[4]*h[1]+i[5]*h[2],i[6]*h[0]+i[7]*h[1]+i[8]*h[2]):h.length===i.length&&new D(i[0]*h[0]+i[1]*h[3]+i[2]*h[6],i[0]*h[1]+i[1]*h[4]+i[2]*h[7],i[0]*h[2]+i[1]*h[5]+i[2]*h[8],i[3]*h[0]+i[4]*h[3]+i[5]*h[6],i[3]*h[1]+i[4]*h[4]+i[5]*h[7],i[3]*h[2]+i[4]*h[5]+i[5]*h[8],i[6]*h[0]+i[7]*h[3]+i[8]*h[6],i[6]*h[1]+i[7]*h[4]+i[8]*h[7],i[6]*h[2]+i[7]*h[5]+i[8]*h[8])},inverse:function(){var d=1/this.determinant(),c=this.elements;return new D(d*(c[8]*c[4]-c[7]*c[5]),d*-(c[8]*c[1]-c[7]*c[2]),d*(c[5]*c[1]-c[4]*c[2]),d*-(c[8]*c[3]-c[6]*c[5]),d*(c[8]*c[0]-c[6]*c[2]),d*-(c[5]*c[0]-c[3]*c[2]),d*(c[7]*c[3]-c[6]*c[4]),d*-(c[7]*c[0]-c[6]*c[1]),d*(c[4]*c[0]-c[3]*c[1]))},determinant:function(){var b=this.elements;return b[0]*(b[8]*b[4]-b[7]*b[5])-b[3]*(b[8]*b[1]-b[7]*b[2])+b[6]*(b[5]*b[1]-b[4]*b[2])}},C.prototype.e=D.prototype.e=function(b){return this.elements[b]},B.rmatrix=r,B.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,which:1,increment:0.3,linearZoom:!1,panOnlyWhenZoomed:!1,minScale:0.3,maxScale:6,rangeStep:0.05,duration:200,easing:"ease-in-out",contain:!1},B.prototype={constructor:B,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),G.removeData(this.elem,z)},resetDimensions:function(){this.container=this.parent.getBoundingClientRect();var b=this.elem,g=b.getBoundingClientRect(),f=Math.abs(this.scale);this.dimensions={width:g.width,height:g.height,left:G.css(b,"left",!0)||0,top:G.css(b,"top",!0)||0,border:{top:G.css(b,"borderTopWidth",!0)*f||0,bottom:G.css(b,"borderBottomWidth",!0)*f||0,left:G.css(b,"borderLeftWidth",!0)*f||0,right:G.css(b,"borderRightWidth",!0)*f||0},margin:{top:G.css(b,"marginTop",!0)*f||0,left:G.css(b,"marginLeft",!0)*f||0}}},reset:function(d){d=E(d);var c=this.setMatrix(this._origTransform,d);d.silent||this._trigger("reset",c)},resetZoom:function(d){d=E(d);var c=this.getMatrix(this._origTransform);d.dValue=c[3],this.zoom(c[0],d)},resetPan:function(d){var c=this.getMatrix(this._origTransform);this.pan(c[4],c[5],E(d))},setTransform:function(b){for(var g=this.$set,f=g.length;f--;){G.style(g[f],"transform",b),this.isSVG&&g[f].setAttribute("transform",b)}},getTransform:function(b){var g=this.$set,f=g[0];return b?this.setTransform(b):(b=G.style(f,"transform"),!this.isSVG||b&&"none"!==b||(b=G.attr(f,"transform")||"none")),"none"===b||r.test(b)||this.setTransform(b=G.css(f,"transform")),b||"none"},getMatrix:function(d){var c=r.exec(d||this.getTransform());return c&&c.shift(),c||[1,0,0,1,0,0]},setMatrix:function(Y,X){if(!this.disabled){X||(X={}),"string"==typeof Y&&(Y=this.getMatrix(Y));var W=+Y[0],V="undefined"!=typeof X.contain?X.contain:this.options.contain;if(V){var U=X.dims;U||(this.resetDimensions(),U=this.dimensions);var T,S,R,Q=this.container,P=U.width,O=U.height,N=Q.width,M=Q.height,L=N/P,K=M/O;"center"!==this.$parent.css("textAlign")||"inline"!==G.css(this.elem,"display")?(R=(P-this.elem.offsetWidth)/2,T=R-U.border.left,S=P-N-R+U.border.right):T=S=(P-N)/2;var J=(O-M)/2+U.border.top,I=(O-M)/2-U.border.top-U.border.bottom;"invert"===V||"automatic"===V&&L<1.01?Y[4]=Math.max(Math.min(Y[4],T-U.border.left),-S):Y[4]=Math.min(Math.max(Y[4],T),-S),"invert"===V||"automatic"===V&&K<1.01?Y[5]=Math.max(Math.min(Y[5],J-U.border.top),-I):Y[5]=Math.min(Math.max(Y[5],J),-I)}if("skip"!==X.animate&&this.transition(!X.animate),X.range&&this.$zoomRange.val(W),this.options.disableXAxis||this.options.disableYAxis){var b=this.getMatrix();this.options.disableXAxis&&(Y[4]=b[4]),this.options.disableYAxis&&(Y[5]=b[5])}return this.setTransform("matrix("+Y.join(",")+")"),this.scale=W,this._checkPanWhenZoomed(W),X.silent||this._trigger("change",Y),Y}},isPanning:function(){return this.panning},transition:function(b){if(this._transition){for(var h=b||!this.options.transition?"none":this._transition,g=this.$set,f=g.length;f--;){G.style(g[f],"transition")!==h&&G.style(g[f],"transition",h)}}},pan:function(g,f,i){if(!this.options.disablePan){i||(i={});var h=i.matrix;h||(h=this.getMatrix()),i.relative&&(g+=+h[4],f+=+h[5]),h[4]=g,h[5]=f,this.setMatrix(h,i),i.silent||this._trigger("pan",h[4],h[5])}},zoom:function(U,T){"object"==typeof U?(T=U,U=null):T||(T={});var S=G.extend({},this.options,T);if(!S.disableZoom){var R=!1,Q=S.matrix||this.getMatrix(),P=+Q[0];"number"!=typeof U&&(U=S.linearZoom?P+S.increment*(U?-1:1):U?P/(1+S.increment):P*(1+S.increment),R=!0),U=Math.max(Math.min(U,S.maxScale),S.minScale);var O=S.focal;if(O&&!S.disablePan){this.resetDimensions();var N=S.dims=this.dimensions,M=O.clientX,L=O.clientY;this.isSVG||(M-=N.width/P/2,L-=N.height/P/2);var K=new C(M,L,1),J=new D(Q),I=this.parentOffset||this.$parent.offset(),f=new D(1,0,I.left-this.$doc.scrollLeft(),0,1,I.top-this.$doc.scrollTop()),b=J.inverse().x(f.inverse().x(K)),V=U/Q[0];J=J.x(new D([V,0,0,V,0,0])),K=f.x(J.x(b)),Q[4]=+Q[4]+(M-K.e(0)),Q[5]=+Q[5]+(L-K.e(1))}Q[0]=U,Q[3]="number"==typeof S.dValue?S.dValue:U,this.setMatrix(Q,{animate:"undefined"!=typeof S.animate?S.animate:R,range:!S.noSetRange}),S.silent||this._trigger("zoom",Q[0],S)}},option:function(b,g){var f;if(!b){return G.extend({},this.options)}if("string"==typeof b){if(1===arguments.length){return void 0!==this.options[b]?this.options[b]:null}f={},f[b]=g}else{f=b}this._setOptions(f)},_setOptions:function(b){G.each(b,G.proxy(function(d,f){switch(d){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[d]=f,d){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[d]=f;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":G.style(this.elem,"cursor",f);break;case"minScale":this.$zoomRange.attr("min",f);break;case"maxScale":this.$zoomRange.attr("max",f);break;case"rangeStep":this.$zoomRange.attr("step",f);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"panOnlyWhenZoomed":this._checkPanWhenZoomed();break;case"$set":f instanceof G&&f.length&&(this.$set=f,this._initStyle(),this._buildTransform())}},this))},_checkPanWhenZoomed:function(f){var d=this.options;if(d.panOnlyWhenZoomed){f||(f=this.getMatrix()[0]);var g=f<=d.minScale;d.disablePan!==g&&this.option("disablePan",g)}},_initStyle:function(){var b={"transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(b.cursor=this.options.cursor),this.$set.css(b);var d=this.$parent;d.length&&!G.nodeName(this.parent,"body")&&(b={overflow:"hidden"},"static"===d.css("position")&&(b.position="relative"),d.css(b))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var M=this,L=this.options,K=L.eventNamespace,J="mousedown"+K+" pointerdown"+K+" MSPointerDown"+K,I="touchstart"+K+" "+J,q="touchend"+K+" click"+K+" pointerup"+K+" MSPointerUp"+K,p={},o=this.$reset,l=this.$zoomRange;if(G.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var c=L["on"+this];G.isFunction(c)&&(p["panzoom"+this.toLowerCase()+K]=c)}),L.disablePan&&L.disableZoom||(p[I]=function(a){var c;("touchstart"===a.type?!(c=a.touches||a.originalEvent.touches)||(1!==c.length||L.disablePan)&&2!==c.length:L.disablePan||(a.which||a.originalEvent.which)!==L.which)||(a.preventDefault(),a.stopPropagation(),M._startMove(a,c))},3===L.which&&(p.contextmenu=!1)),this.$elem.on(p),o.length&&o.on(q,function(a){a.preventDefault(),M.reset()}),l.length&&l.attr({step:L.rangeStep===B.defaults.rangeStep&&l.attr("step")||L.rangeStep,min:L.minScale,max:L.maxScale}).prop({value:this.getMatrix()[0]}),!L.disableZoom){var g=this.$zoomIn,b=this.$zoomOut;g.length&&b.length&&(g.on(q,function(a){a.preventDefault(),M.zoom()}),b.on(q,function(a){a.preventDefault(),M.zoom(!0)})),l.length&&(p={},p[J]=function(){M.transition(!0)},p[(w?"input":"change")+K]=function(){M.zoom(+this.value,{noSetRange:!0})},l.on(p))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var b=this.options;this._transition=this._transform+" "+b.duration+"ms "+b.easing}},_getDistance:function(f){var d=f[0],g=f[1];return Math.sqrt(Math.pow(Math.abs(g.clientX-d.clientX),2)+Math.pow(Math.abs(g.clientY-d.clientY),2))},_getMiddle:function(f){var d=f[0],g=f[1];return{clientX:(g.clientX-d.clientX)/2+d.clientX,clientY:(g.clientY-d.clientY)/2+d.clientY}},_trigger:function(b){"string"==typeof b&&(b="panzoom"+b),this.$elem.triggerHandler(b,[this].concat(y.call(arguments,1)))},_startMove:function(Z,Y){if(!this.panning){var X,W,V,U,T,S,R,Q,P=this,O=this.options,N=O.eventNamespace,M=this.getMatrix(),L=M.slice(0),K=+L[4],J=+L[5],I={matrix:M,animate:"skip"},h=Z.type;"pointerdown"===h?(X="pointermove",W="pointerup"):"touchstart"===h?(X="touchmove",W="touchend"):"MSPointerDown"===h?(X="MSPointerMove",W="MSPointerUp"):(X="mousemove",W="mouseup"),X+=N,W+=N,this.transition(!0),this.panning=!0,this._trigger("start",Z,Y);var c=function(f,d){if(d){if(2===d.length){if(null!=V){return}return V=P._getDistance(d),U=+M[0],void (T=P._getMiddle(d))}if(null!=S){return}(Q=d[0])&&(S=Q.pageX,R=Q.pageY)}null==S&&(S=f.pageX,R=f.pageY)};c(Z,Y);var b=function(f){var d;if(f.preventDefault(),Y=f.touches||f.originalEvent.touches,c(f,Y),Y){if(2===Y.length){var i=P._getMiddle(Y),g=P._getDistance(Y)-V;return P.zoom(g*(O.increment/100)+U,{focal:i,matrix:M,animate:"skip"}),P.pan(+M[4]+i.clientX-T.clientX,+M[5]+i.clientY-T.clientY,I),void (T=i)}d=Y[0]||{pageX:0,pageY:0}}d||(d=f),P.pan(K+d.pageX-S,J+d.pageY-R,I)};G(A).off(N).on(X,b).on(W,function(d){d.preventDefault(),G(this).off(N),P.panning=!1,d.type="panzoomend",P._trigger(d,M,!F(M,L))})}}},G.Panzoom=B,G.fn.panzoom=function(b){var j,i,h,g;return"string"==typeof b?(g=[],i=y.call(arguments,1),this.each(function(){j=G.data(this,z),j?"_"!==b.charAt(0)&&"function"==typeof(h=j[b])&&void 0!==(h=h.apply(j,i))&&g.push(h):g.push(void 0)}),g.length?1===g.length?g[0]:g:this):this.each(function(){new B(this,b)})},B});(function(k,n,t,p,l){var r=t.createElement("div"),h=r.style,c="Transform",A=["O"+c,"ms"+c,"Webkit"+c,"Moz"+c],x=A.length,a,j,E="Float32Array" in n,H,u,D=/Matrix([^)]*)/,o=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,G="transform",I="transformOrigin",F="translate",f="rotate",q="scale",z="skew",b="matrix";while(x--){if(A[x] in h){k.support[G]=a=A[x];k.support[I]=a+"Origin";continue}}if(!a){k.support.matrixFilter=j=h.filter===""}k.cssNumber[G]=k.cssNumber[I]=true;if(a&&a!=G){k.cssProps[G]=a;k.cssProps[I]=a+"Origin";if(a=="Moz"+c){H={get:function(J,i){return(i?k.css(J,a).split("px").join(""):J.style[a])},set:function(i,J){i.style[a]=/matrix\([^)p]*\)/.test(J)?J.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,b+"$1$2px,$3px"):J}}}else{if(/^1\.[0-5](?:\.|$)/.test(k.fn.jquery)){H={get:function(J,i){return(i?k.css(J,a.replace(/^ms/,"Ms")):J.style[a])}}}}}else{if(j){H={get:function(M,L,i){var K=(L&&M.currentStyle?M.currentStyle:M.style),J,N;if(K&&D.test(K.filter)){J=RegExp.$1.split(",");J=[J[0].split("=")[1],J[2].split("=")[1],J[1].split("=")[1],J[3].split("=")[1]]}else{J=[1,0,0,1]}if(!k.cssHooks[I]){J[4]=K?parseInt(K.left,10)||0:0;J[5]=K?parseInt(K.top,10)||0:0}else{N=k._data(M,"transformTranslate",l);J[4]=N?N[0]:0;J[5]=N?N[1]:0}return i?J:b+"("+J+")"},set:function(O,P,K){var J=O.style,L,i,N,M;if(!K){J.zoom=1}P=w(P);i=["Matrix(M11="+P[0],"M12="+P[2],"M21="+P[1],"M22="+P[3],"SizingMethod='auto expand'"].join();N=(L=O.currentStyle)&&L.filter||J.filter||"";J.filter=D.test(N)?N.replace(D,i):N+" progid:DXImageTransform.Microsoft."+i+")";if(!k.cssHooks[I]){if((M=k.transform.centerOrigin)){J[M=="margin"?"marginLeft":"left"]=-(O.offsetWidth/2)+(O.clientWidth/2)+"px";J[M=="margin"?"marginTop":"top"]=-(O.offsetHeight/2)+(O.clientHeight/2)+"px"}J.left=P[4]+"px";J.top=P[5]+"px"}else{k.cssHooks[I].set(O,P)}}}}}if(H){k.cssHooks[G]=H}u=H&&H.get||k.css;k.fx.step.transform=function(N){var M=N.elem,K=N.start,O=N.end,S=N.pos,L="",Q=100000,P,J,R,T;if(!K||typeof K==="string"){if(!K){K=u(M,a)}if(j){M.style.zoom=1}O=O.split("+=").join(K);k.extend(N,d(K,O));K=N.start;O=N.end}P=K.length;while(P--){J=K[P];R=O[P];T=+false;switch(J[0]){case F:T="px";case q:T||(T="");L=J[0]+"("+p.round((J[1][0]+(R[1][0]-J[1][0])*S)*Q)/Q+T+","+p.round((J[1][1]+(R[1][1]-J[1][1])*S)*Q)/Q+T+")"+L;break;case z+"X":case z+"Y":case f:L=J[0]+"("+p.round((J[1]+(R[1]-J[1])*S)*Q)/Q+"rad)"+L;break}}N.origin&&(L=N.origin+L);H&&H.set?H.set(M,L,+true):M.style[a]=L};function w(L){L=L.split(")");var M=k.trim,P=-1,O=L.length-1,R,J,K,N=E?new Float32Array(6):[],S=E?new Float32Array(6):[],Q=E?new Float32Array(6):[1,0,0,1,0,0];N[0]=N[3]=Q[0]=Q[3]=1;N[1]=N[2]=N[4]=N[5]=0;while(++P<O){R=L[P].split("(");J=M(R[0]);K=R[1];S[0]=S[3]=1;S[1]=S[2]=S[4]=S[5]=0;switch(J){case F+"X":S[4]=parseInt(K,10);break;case F+"Y":S[5]=parseInt(K,10);break;case F:K=K.split(",");S[4]=parseInt(K[0],10);S[5]=parseInt(K[1]||0,10);break;case f:K=g(K);S[0]=p.cos(K);S[1]=p.sin(K);S[2]=-p.sin(K);S[3]=p.cos(K);break;case q+"X":S[0]=+K;break;case q+"Y":S[3]=K;break;case q:K=K.split(",");S[0]=K[0];S[3]=K.length>1?K[1]:K[0];break;case z+"X":S[2]=p.tan(g(K));break;case z+"Y":S[1]=p.tan(g(K));break;case b:K=K.split(",");S[0]=K[0];S[1]=K[1];S[2]=K[2];S[3]=K[3];S[4]=parseInt(K[4],10);S[5]=parseInt(K[5],10);break}Q[0]=N[0]*S[0]+N[2]*S[1];Q[1]=N[1]*S[0]+N[3]*S[1];Q[2]=N[0]*S[2]+N[2]*S[3];Q[3]=N[1]*S[2]+N[3]*S[3];Q[4]=N[0]*S[4]+N[2]*S[5]+N[4];Q[5]=N[1]*S[4]+N[3]*S[5]+N[5];N=[Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]]}return Q}function s(L){var M,K,J,i=L[0],P=L[1],O=L[2],N=L[3];if(i*N-P*O){M=p.sqrt(i*i+P*P);i/=M;P/=M;J=i*O+P*N;O-=i*J;N-=P*J;K=p.sqrt(O*O+N*N);O/=K;N/=K;J/=K;if(i*N<P*O){i=-i;P=-P;J=-J;M=-M}}else{M=K=J=0}return[[F,[+L[4],+L[5]]],[f,p.atan2(P,i)],[z+"X",p.atan(J)],[q,[M,K]]]}function d(Q,K){var N={start:[],end:[]},L=-1,J,M,O,P;(Q=="none"||C(Q))&&(Q="");(K=="none"||C(K))&&(K="");if(Q&&K&&!K.indexOf("matrix")&&v(Q).join()==v(K.split(")")[0]).join()){N.origin=Q;Q="";K=K.slice(K.indexOf(")")+1)}if(!Q&&!K){return}if(!Q||!K||y(Q)==y(K)){Q&&(Q=Q.split(")"))&&(J=Q.length);K&&(K=K.split(")"))&&(J=K.length);while(++L<J-1){Q[L]&&(M=Q[L].split("("));K[L]&&(O=K[L].split("("));P=k.trim((M||O)[0]);B(N.start,m(P,M?M[1]:0));B(N.end,m(P,O?O[1]:0))}}else{N.start=s(w(Q));N.end=s(w(K))}return N}function m(L,M){var J=+(!L.indexOf(q)),K,i=L.replace(/e[XY]/,"e");switch(L){case F+"Y":case q+"Y":M=[J,M?parseFloat(M):J];break;case F+"X":case F:case q+"X":K=1;case q:M=M?(M=M.split(","))&&[parseFloat(M[0]),parseFloat(M.length>1?M[1]:L==q?K||M[0]:J+"")]:[J,J];break;case z+"X":case z+"Y":case f:M=M?g(M):0;break;case b:return s(M?v(M):[1,0,0,1,0,0]);break}return[[i,M]]}function C(i){return o.test(i)}function y(i){return i.replace(/(?:\([^)]*\))|\s/g,"")}function B(J,i,K){while(K=i.shift()){J.push(K)}}function g(i){return ~i.indexOf("deg")?parseInt(i,10)*(p.PI*2/360):~i.indexOf("grad")?parseInt(i,10)*(p.PI/200):parseFloat(i)}function v(i){i=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(i);return[i[1],i[2],i[3],i[4],i[5],i[6]]}k.transform={centerOrigin:"margin"}})(jQuery,window,document,Math);
/*!
  hey, [be]Lazy.js - v1.5.4 - 2016.03.06
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
(function(a,b){"function"===typeof define&&define.amd?define(b):"object"===typeof exports?module.exports=b():a.Blazy=b()})(this,function(){function j(f){setTimeout(function(){var h=f._util;h.elements=y(f.options.selector);h.count=h.elements.length;h.destroyed&&(h.destroyed=!1,f.options.container&&o(f.options.container,function(k){i(k,"scroll",h.validateT)}),i(window,"resize",h.saveViewportOffsetT),i(window,"resize",h.validateT),i(window,"scroll",h.validateT));s(f)},1)}function s(f){for(var m=f._util,h=0;h<m.count;h++){var l=m.elements[h],k=l.getBoundingClientRect();if(k.right>=x.left&&k.bottom>=x.top&&k.left<=x.right&&k.top<=x.bottom||d(l,f.options.successClass)){f.load(l),m.elements.splice(h,1),m.count--,h--}}0===m.count&&f.destroy()}function b(f,m,h){if(!d(f,h.successClass)&&(m||h.loadInvisible||0<f.offsetWidth&&0<f.offsetHeight)){if(m=f.getAttribute(c)||f.getAttribute(h.src)){m=m.split(h.separator);var l=m[a&&1<m.length?1:0],k="img"===f.nodeName.toLowerCase();k||void 0===f.src?(m=new Image,m.onerror=function(){h.error&&h.error(f,"invalid");f.className=f.className+" "+h.errorClass},m.onload=function(){k?f.src=l:f.style.backgroundImage='url("'+l+'")';B(f,h)},m.src=l):(f.src=l,B(f,h))}else{h.error&&h.error(f,"missing"),d(f,h.errorClass)||(f.className=f.className+" "+h.errorClass)}}}function B(f,h){f.className=f.className+" "+h.successClass;h.success&&h.success(f);o(h.breakpoints,function(k){f.removeAttribute(k.src)});f.removeAttribute(h.src)}function d(f,h){return -1!==(" "+f.className+" ").indexOf(" "+h+" ")}function y(f){var k=[];f=document.querySelectorAll(f);for(var h=f.length;h--;k.unshift(f[h])){}return k}function A(f){x.bottom=(window.innerHeight||document.documentElement.clientHeight)+f;x.right=(window.innerWidth||document.documentElement.clientWidth)+f}function i(f,k,h){f.attachEvent?f.attachEvent&&f.attachEvent("on"+k,h):f.addEventListener(k,h,!1)}function g(f,k,h){f.detachEvent?f.detachEvent&&f.detachEvent("on"+k,h):f.removeEventListener(k,h,!1)}function o(f,l){if(f&&l){for(var h=f.length,k=0;k<h&&!1!==l(f[k],k);k++){}}}function z(f,l,h){var k=0;return function(){var m=+new Date;m-k<l||(k=m,f.apply(h,arguments))}}var c,x,a;return function(f){if(!document.querySelectorAll){var l=document.createStyleSheet();document.querySelectorAll=function(n,m,r,q,p){p=document.all;m=[];n=n.replace(/\[for\b/gi,"[htmlFor").split(",");for(r=n.length;r--;){l.addRule(n[r],"k:v");for(q=p.length;q--;){p[q].currentStyle.k&&m.push(p[q])}l.removeRule(0)}return m}}var h=this,k=h._util={};k.elements=[];k.destroyed=!0;h.options=f||{};h.options.error=h.options.error||!1;h.options.offset=h.options.offset||100;h.options.success=h.options.success||!1;h.options.selector=h.options.selector||".b-lazy";h.options.separator=h.options.separator||"|";h.options.container=h.options.container?document.querySelectorAll(h.options.container):!1;h.options.errorClass=h.options.errorClass||"b-error";h.options.breakpoints=h.options.breakpoints||!1;h.options.loadInvisible=h.options.loadInvisible||!1;h.options.successClass=h.options.successClass||"b-loaded";h.options.validateDelay=h.options.validateDelay||25;h.options.saveViewportOffsetDelay=h.options.saveViewportOffsetDelay||50;h.options.src=c=h.options.src||"data-src";a=1<window.devicePixelRatio;x={};x.top=0-h.options.offset;x.left=0-h.options.offset;h.revalidate=function(){j(this)};h.load=function(n,m){var p=this.options;void 0===n.length?b(n,m,p):o(n,function(q){b(q,m,p)})};h.destroy=function(){var m=this._util;this.options.container&&o(this.options.container,function(n){g(n,"scroll",m.validateT)});g(window,"scroll",m.validateT);g(window,"resize",m.validateT);g(window,"resize",m.saveViewportOffsetT);m.count=0;m.elements.length=0;m.destroyed=!0};k.validateT=z(function(){s(h)},h.options.validateDelay,h);k.saveViewportOffsetT=z(function(){A(h.options.offset)},h.options.saveViewportOffsetDelay,h);A(h.options.offset);o(h.options.breakpoints,function(m){if(m.width>=window.screen.width){return c=m.src,!1}});j(h)}});
/*!
 * jScrollPane - v2.0.23 - 2016-01-28
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2014 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(function(b){b.fn.jScrollPane=function(a){function d(aM,aL){function aK(v){var u,t,s,r,n,m,i=!1,g=!1;if(a2=v,void 0===a1){n=aM.scrollTop(),m=aM.scrollLeft(),aM.css({overflow:"hidden",padding:0}),a0=aM.innerWidth()+bt,aY=aM.innerHeight(),aM.width(a0),a1=b('<div class="jspPane" />').css("padding",ae).append(aM.children()),aX=b('<div class="jspContainer" />').css({width:a0+"px",height:aY+"px"}).append(a1).appendTo(aM)}else{if(aM.css("width",""),i=a2.stickToBottom&&bj(),g=a2.stickToRight&&bh(),r=aM.innerWidth()+bt!=a0||aM.outerHeight()!=aY,r&&(a0=aM.innerWidth()+bt,aY=aM.innerHeight(),aX.css({width:a0+"px",height:aY+"px"})),!r&&bp==aW&&a1.outerHeight()==aV){return void aM.width(a0)}bp=aW,a1.css("width",""),aM.width(a0),aX.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}a1.css("overflow","auto"),aW=v.contentWidth?v.contentWidth:a1[0].scrollWidth,aV=a1[0].scrollHeight,a1.css("overflow",""),aU=aW/a0,aT=aV/aY,aS=aT>1,aR=aU>1,aR||aS?(aM.addClass("jspScrollable"),u=a2.maintainPosition&&(bo||aZ),u&&(t=al(),s=ak()),aI(),aG(),aE(),u&&(an(g?aW-a0:t,!1),ao(i?aV-aY:s,!1)),bc(),bg(),a4(),a2.enableKeyboardNavigation&&a9(),a2.clickOnTrack&&az(),a7(),a2.hijackInternalLinks&&a5()):(aM.removeClass("jspScrollable"),a1.css({top:0,left:0,width:aX.width()-bt}),bf(),ba(),a8(),ay()),a2.autoReinitialise&&!ai?ai=setInterval(function(){aK(a2)},a2.autoReinitialiseDelay):!a2.autoReinitialise&&ai&&clearInterval(ai),n&&aM.scrollTop(0)&&ao(n,!1),m&&aM.scrollLeft(0)&&an(m,!1),aM.trigger("jsp-initialised",[aR||aS])}function aI(){aS&&(aX.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />'))),ax=aX.find(">.jspVerticalBar"),ag=ax.find(">.jspTrack"),aQ=ag.find(">.jspDrag"),a2.showArrows&&(a6=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aB(0,-1)).bind("click.jsp",be),aD=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aB(0,1)).bind("click.jsp",be),a2.arrowScrollOnHover&&(a6.bind("mouseover.jsp",aB(0,-1,a6)),aD.bind("mouseover.jsp",aB(0,1,aD))),aC(ag,a2.verticalArrowPositions,a6,aD)),br=aY,aX.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){br-=b(this).outerHeight()}),aQ.hover(function(){aQ.addClass("jspHover")},function(){aQ.removeClass("jspHover")}).bind("mousedown.jsp",function(f){b("html").bind("dragstart.jsp selectstart.jsp",be),aQ.addClass("jspActive");var g=f.pageY-aQ.position().top;return b("html").bind("mousemove.jsp",function(c){av(c.pageY-g,!1)}).bind("mouseup.jsp mouseleave.jsp",aw),!1}),aH())}function aH(){ag.height(br+"px"),bo=0,ac=a2.verticalGutter+ag.outerWidth(),a1.width(a0-ac-bt);try{0===ax.position().left&&a1.css("margin-left",ac+"px")}catch(c){}}function aG(){aR&&(aX.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />'))),ah=aX.find(">.jspHorizontalBar"),ad=ah.find(">.jspTrack"),aO=ad.find(">.jspDrag"),a2.showArrows&&(bd=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aB(-1,0)).bind("click.jsp",be),aJ=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aB(1,0)).bind("click.jsp",be),a2.arrowScrollOnHover&&(bd.bind("mouseover.jsp",aB(-1,0,bd)),aJ.bind("mouseover.jsp",aB(1,0,aJ))),aC(ad,a2.horizontalArrowPositions,bd,aJ)),aO.hover(function(){aO.addClass("jspHover")},function(){aO.removeClass("jspHover")}).bind("mousedown.jsp",function(f){b("html").bind("dragstart.jsp selectstart.jsp",be),aO.addClass("jspActive");var g=f.pageX-aO.position().left;return b("html").bind("mousemove.jsp",function(c){at(c.pageX-g,!1)}).bind("mouseup.jsp mouseleave.jsp",aw),!1}),bs=aX.innerWidth(),aF())}function aF(){aX.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){bs-=b(this).outerWidth()}),ad.width(bs+"px"),aZ=0}function aE(){if(aR&&aS){var f=ad.outerHeight(),g=ag.outerWidth();br-=f,b(ah).find(">.jspCap:visible,>.jspArrow").each(function(){bs+=b(this).outerWidth()}),bs-=g,aY-=g,a0-=f,ad.parent().append(b('<div class="jspCorner" />').css("width",f+"px")),aH(),aF()}aR&&a1.width(aX.outerWidth()-bt+"px"),aV=a1.outerHeight(),aT=aV/aY,aR&&(bn=Math.ceil(1/aU*bs),bn>a2.horizontalDragMaxWidth?bn=a2.horizontalDragMaxWidth:bn<a2.horizontalDragMinWidth&&(bn=a2.horizontalDragMinWidth),aO.width(bn+"px"),bl=bs-bn,ar(aZ)),aS&&(bm=Math.ceil(1/aT*br),bm>a2.verticalDragMaxHeight?bm=a2.verticalDragMaxHeight:bm<a2.verticalDragMinHeight&&(bm=a2.verticalDragMinHeight),aQ.height(bm+"px"),aP=br-bm,au(bo))}function aC(i,h,n,m){var l,k="before",j="after";"os"==h&&(h=/Mac/.test(navigator.platform)?"after":"split"),h==k?j=h:h==j&&(k=h,l=n,n=m,m=l),i[k](n)[j](m)}function aB(g,f,h){return function(){return aA(g,f,this,h),this.blur(),!1}}function aA(j,q,p,o){p=b(p).addClass("jspActive");var n,m,l=!0,k=function(){0!==j&&bi.scrollByX(j*a2.arrowButtonSpeed),0!==q&&bi.scrollByY(q*a2.arrowButtonSpeed),m=setTimeout(k,l?a2.initialDelay:a2.arrowRepeatFreq),l=!1};k(),n=o?"mouseout.jsp":"mouseup.jsp",o=o||b("html"),o.bind(n,function(){p.removeClass("jspActive"),m&&clearTimeout(m),m=null,o.unbind(n)})}function az(){ay(),aS&&ag.bind("mousedown.jsp",function(j){if(void 0===j.originalTarget||j.originalTarget==j.currentTarget){var q,p=b(this),o=p.offset(),n=j.pageY-o.top-bo,m=!0,l=function(){var c=p.offset(),h=j.pageY-c.top-bm/2,g=aY*a2.scrollPagePercent,f=aP*g/(aV-aY);if(0>n){bo-f>h?bi.scrollByY(-g):av(h)}else{if(!(n>0)){return void k()}h>bo+f?bi.scrollByY(g):av(h)}q=setTimeout(l,m?a2.initialDelay:a2.trackClickRepeatFreq),m=!1},k=function(){q&&clearTimeout(q),q=null,b(document).unbind("mouseup.jsp",k)};return l(),b(document).bind("mouseup.jsp",k),!1}}),aR&&ad.bind("mousedown.jsp",function(j){if(void 0===j.originalTarget||j.originalTarget==j.currentTarget){var q,p=b(this),o=p.offset(),n=j.pageX-o.left-aZ,m=!0,l=function(){var c=p.offset(),h=j.pageX-c.left-bn/2,g=a0*a2.scrollPagePercent,f=bl*g/(aW-a0);if(0>n){aZ-f>h?bi.scrollByX(-g):at(h)}else{if(!(n>0)){return void k()}h>aZ+f?bi.scrollByX(g):at(h)}q=setTimeout(l,m?a2.initialDelay:a2.trackClickRepeatFreq),m=!1},k=function(){q&&clearTimeout(q),q=null,b(document).unbind("mouseup.jsp",k)};return l(),b(document).bind("mouseup.jsp",k),!1}})}function ay(){ad&&ad.unbind("mousedown.jsp"),ag&&ag.unbind("mousedown.jsp")}function aw(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),aQ&&aQ.removeClass("jspActive"),aO&&aO.removeClass("jspActive")}function av(r,q){if(aS){0>r?r=0:r>aP&&(r=aP);var p=new b.Event("jsp-will-scroll-y");if(aM.trigger(p,[r]),!p.isDefaultPrevented()){var o=r||0,n=0===o,m=o==aP,l=r/aP,k=-l*(aV-aY);void 0===q&&(q=a2.animateScroll),q?bi.animate(aQ,"top",r,au,function(){aM.trigger("jsp-user-scroll-y",[-k,n,m])}):(aQ.css("top",r),au(r),aM.trigger("jsp-user-scroll-y",[-k,n,m]))}}}function au(g){void 0===g&&(g=aQ.position().top),aX.scrollTop(0),bo=g||0;var k=0===bo,j=bo==aP,i=g/aP,h=-i*(aV-aY);(aN!=k||af!=j)&&(aN=k,af=j,aM.trigger("jsp-arrow-change",[aN,af,aj,aa])),aq(k,j),a1.css("top",h),aM.trigger("jsp-scroll-y",[-h,k,j]).trigger("scroll")}function at(r,q){if(aR){0>r?r=0:r>bl&&(r=bl);var p=new b.Event("jsp-will-scroll-x");if(aM.trigger(p,[r]),!p.isDefaultPrevented()){var o=r||0,n=0===o,m=o==bl,l=r/bl,k=-l*(aW-a0);void 0===q&&(q=a2.animateScroll),q?bi.animate(aO,"left",r,ar,function(){aM.trigger("jsp-user-scroll-x",[-k,n,m])}):(aO.css("left",r),ar(r),aM.trigger("jsp-user-scroll-x",[-k,n,m]))}}}function ar(g){void 0===g&&(g=aO.position().left),aX.scrollTop(0),aZ=g||0;var k=0===aZ,j=aZ==bl,i=g/bl,h=-i*(aW-a0);(aj!=k||aa!=j)&&(aj=k,aa=j,aM.trigger("jsp-arrow-change",[aN,af,aj,aa])),ap(k,j),a1.css("left",h),aM.trigger("jsp-scroll-x",[-h,k,j]).trigger("scroll")}function aq(f,c){a2.showArrows&&(a6[f?"addClass":"removeClass"]("jspDisabled"),aD[c?"addClass":"removeClass"]("jspDisabled"))}function ap(f,c){a2.showArrows&&(bd[f?"addClass":"removeClass"]("jspDisabled"),aJ[c?"addClass":"removeClass"]("jspDisabled"))}function ao(g,f){var h=g/(aV-aY);av(h*aP,f)}function an(g,f){var h=g/(aW-a0);at(h*bl,f)}function am(E,D,C){var B,A,z,y,x,w,v,u,t,s=0,r=0;try{B=b(E)}catch(q){return}for(A=B.outerHeight(),z=B.outerWidth(),aX.scrollTop(0),aX.scrollLeft(0);!B.is(".jspPane");){if(s+=B.position().top,r+=B.position().left,B=B.offsetParent(),/^body|html$/i.test(B[0].nodeName)){return}}y=ak(),w=y+aY,y>s||D?u=s-a2.horizontalGutter:s+A>w&&(u=s-aY+A+a2.horizontalGutter),isNaN(u)||ao(u,C),x=al(),v=x+a0,x>r||D?t=r-a2.horizontalGutter:r+z>v&&(t=r-a0+z+a2.horizontalGutter),isNaN(t)||an(t,C)}function al(){return -a1.position().left}function ak(){return -a1.position().top}function bj(){var c=aV-aY;return c>20&&c-ak()<10}function bh(){var c=aW-a0;return c>20&&c-al()<10}function bg(){aX.unbind(bk).bind(bk,function(i,h,n,m){aZ||(aZ=0),bo||(bo=0);var l=aZ,k=bo,j=i.deltaFactor||a2.mouseWheelSpeed;return bi.scrollBy(n*j,-m*j,!1),l==aZ&&k==bo})}function bf(){aX.unbind(bk)}function be(){return !1}function bc(){a1.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(c){am(c.target,!1)})}function ba(){a1.find(":input,a").unbind("focus.jsp")}function a9(){function j(){var f=aZ,c=bo;switch(i){case 40:bi.scrollByY(a2.keyboardSpeed,!1);break;case 38:bi.scrollByY(-a2.keyboardSpeed,!1);break;case 34:case 32:bi.scrollByY(aY*a2.scrollPagePercent,!1);break;case 33:bi.scrollByY(-aY*a2.scrollPagePercent,!1);break;case 39:bi.scrollByX(a2.keyboardSpeed,!1);break;case 37:bi.scrollByX(-a2.keyboardSpeed,!1)}return h=f!=aZ||c!=bo}var i,h,g=[];aR&&g.push(ah[0]),aS&&g.push(ax[0]),a1.bind("focus.jsp",function(){aM.focus()}),aM.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(c){if(c.target===this||g.length&&b(c.target).closest(g).length){var k=aZ,f=bo;switch(c.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=c.keyCode,j();break;case 35:ao(aV-aY),i=null;break;case 36:ao(0),i=null}return h=c.keyCode==i&&k!=aZ||f!=bo,!h}}).bind("keypress.jsp",function(c){return c.keyCode==i&&j(),c.target===this||g.length&&b(c.target).closest(g).length?!h:void 0}),a2.hideFocus?(aM.css("outline","none"),"hideFocus" in aX[0]&&aM.attr("hideFocus",!0)):(aM.css("outline",""),"hideFocus" in aX[0]&&aM.attr("hideFocus",!1))}function a8(){aM.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),a1.unbind(".jsp")}function a7(){if(location.hash&&location.hash.length>1){var f,i,h=escape(location.hash.substr(1));try{f=b("#"+h+', a[name="'+h+'"]')}catch(g){return}f.length&&a1.find(h)&&(0===aX.scrollTop()?i=setInterval(function(){aX.scrollTop()>0&&(am(f,!0),b(document).scrollTop(aX.position().top),clearInterval(i))},50):(am(f,!0),b(document).scrollTop(aX.position().top)))}}function a5(){b(document.body).data("jspHijack")||(b(document.body).data("jspHijack",!0),b(document.body).delegate('a[href*="#"]',"click",function(u){var t,s,r,q,p,o,n=this.href.substr(0,this.href.indexOf("#")),m=location.href;if(-1!==location.href.indexOf("#")&&(m=location.href.substr(0,location.href.indexOf("#"))),n===m){t=escape(this.href.substr(this.href.indexOf("#")+1));try{s=b("#"+t+', a[name="'+t+'"]')}catch(l){return}s.length&&(r=s.closest(".jspScrollable"),q=r.data("jsp"),q.scrollToElement(s,!0),r[0].scrollIntoView&&(p=b(window).scrollTop(),o=s.offset().top,(p>o||o>p+b(window).height())&&r[0].scrollIntoView()),u.preventDefault())}}))}function a4(){var h,g,l,k,j,i=!1;aX.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(f){var c=f.originalEvent.touches[0];h=al(),g=ak(),l=c.pageX,k=c.pageY,j=!1,i=!0}).bind("touchmove.jsp",function(n){if(i){var m=n.originalEvent.touches[0],f=aZ,c=bo;return bi.scrollTo(h+l-m.pageX,g+k-m.pageY),j=j||Math.abs(l-m.pageX)>5||Math.abs(k-m.pageY)>5,f==aZ&&c==bo}}).bind("touchend.jsp",function(){i=!1}).bind("click.jsp-touchclick",function(){return j?(j=!1,!1):void 0})}function a3(){var f=ak(),g=al();aM.removeClass("jspScrollable").unbind(".jsp"),a1.unbind(".jsp"),aM.replaceWith(bq.append(a1.children())),bq.scrollTop(f),bq.scrollLeft(g),ai&&clearInterval(ai)}var a2,a1,a0,aY,aX,aW,aV,aU,aT,aS,aR,aQ,aP,bo,aO,bl,aZ,ax,ag,ac,br,bm,a6,aD,ah,ad,bs,bn,bd,aJ,ai,ae,bt,bp,bi=this,aN=!0,aj=!0,af=!1,aa=!1,bq=aM.clone(!1,!1).empty(),bk=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===aM.css("box-sizing")?(ae=0,bt=0):(ae=aM.css("paddingTop")+" "+aM.css("paddingRight")+" "+aM.css("paddingBottom")+" "+aM.css("paddingLeft"),bt=(parseInt(aM.css("paddingLeft"),10)||0)+(parseInt(aM.css("paddingRight"),10)||0)),b.extend(bi,{reinitialise:function(c){c=b.extend({},a2,c),aK(c)},scrollToElement:function(g,f,h){am(g,f,h)},scrollTo:function(g,f,h){an(g,h),ao(f,h)},scrollToX:function(f,c){an(f,c)},scrollToY:function(f,c){ao(f,c)},scrollToPercentX:function(f,c){an(f*(aW-a0),c)},scrollToPercentY:function(f,c){ao(f*(aV-aY),c)},scrollBy:function(g,f,h){bi.scrollByX(g,h),bi.scrollByY(f,h)},scrollByX:function(g,f){var i=al()+Math[0>g?"floor":"ceil"](g),h=i/(aW-a0);at(h*bl,f)},scrollByY:function(g,f){var i=ak()+Math[0>g?"floor":"ceil"](g),h=i/(aV-aY);av(h*aP,f)},positionDragX:function(f,c){at(f,c)},positionDragY:function(f,c){av(f,c)},animate:function(h,g,l,k,j){var i={};i[g]=l,h.animate(i,{duration:a2.animateDuration,easing:a2.animateEase,queue:!1,step:k,complete:j})},getContentPositionX:function(){return al()},getContentPositionY:function(){return ak()},getContentWidth:function(){return aW},getContentHeight:function(){return aV},getPercentScrolledX:function(){return al()/(aW-a0)},getPercentScrolledY:function(){return ak()/(aV-aY)},getIsScrollableH:function(){return aR},getIsScrollableV:function(){return aS},getContentPane:function(){return a1},scrollToBottom:function(c){av(aP,c)},hijackInternalLinks:b.noop,destroy:function(){a3()}}),aK(aL)}return a=b.extend({},b.fn.jScrollPane.defaults,a),b.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed}),this.each(function(){var f=b(this),c=f.data("jsp");c?c.reinitialise(a):(b("script",f).filter('[type="text/javascript"],:not([type])').remove(),c=new d(f,a),f.data("jsp",c))})},b.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}});